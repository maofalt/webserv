<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Webserv</title>
	<link rel="stylesheet" href="css/style_index.css" />
	<link rel="icon" type="image/png" href="motero.png" />
</head>

<body>
	<div id="fallingObjectsContainer"></div>
	<header>
		<form action="/python/toggle_darkmode.py">
			<!-- <button id="dark-mode-toggle">‚òÄ</button> -->
			<!-- <button id="dark-mode-toggle">üåù</button> -->
			<button type="button" id="dark-mode-toggle">üåö</button>
		</form>
		<h1>Webserv</h1>
		<div>
		<div id="testing">
			<h2>
				<a href="tests"  title="Directory of tests"><span class="h2">./tests/</span></a>
			</h2> 
			<h2>
				<a href="tests/errors_testing.html"  title="Errors testing page"><span class="h2">error pages</span></a>
			</h2>
			<!-- <h2>
				<a href="tests/cgi_testing.html"  title="CGIs"><span class="h2">CGIs</span></a>
			</h2>
			<h2>
				<a href="tests/upload.html"  title="upload"><span class="h2">upload</span></a>
			</h2>
			<h2>
				<a href="tests/authentificate.html"  title="upload"><span class="h2">authentification</span></a>
			</h2> -->
			<h2>
				<a href="broken_link"  title="link that leads to nothing"><span class="h2">link to nothing</span></a>
			</h2>
		</div>
	</header>

	<footer>
		<p>Rgarrigo&nbsp;&nbsp;&nbsp;Motero&nbsp;&nbsp;&nbsp;Znogueir</p>
	</footer>
	<!-- <script>
		var icon = document.getElementById("dark-mode-toggle");

		icon.onclick = function() {
			document.body.classList.toggle("dark-theme");

			if (document.body.classList.contains("dark-theme")) {
				icon.innerText = "üåù";
			} else {
				icon.innerText = "üåö";
			}
		}
	</script> -->

	<script>
        // Array of image sources
        const lightModeImages = [
            'cursor/motero-nobg.png',
            'cursor/rgarrigo-nobg.png',
            'cursor/znogueir-nobg.png'
        ];

		const darkModeImages = [
			'cursor/garrigodarkmode.png',
			'cursor/znoguerdarkmode.png',
			'cursor/moterodarkmode.png'
		];


		function createFallingObjects() {
					
            const container = document.getElementById('fallingObjectsContainer');
            const images = document.body.classList.contains('dark-theme') ? darkModeImages : lightModeImages;
            
            // Clear existing objects
            while (container.firstChild) {
                container.removeChild(container.firstChild);
            }

        	// Number of falling objects you want to create
        	const numberOfObjects = 100;

        	for (let i = 0; i < numberOfObjects; i++) {
        	    
				// Clear existing objects

				// Create an image element
        	    const img = document.createElement('img');
			
        	    // Assign a random image source from the array
        	    img.src = images[Math.floor(Math.random() * images.length)];
			
        	    // Assign the fallingObject class to the image
        	    img.className = 'fallingObject';
			
    			// Set random horizontal starting position
    			const randomLeft = Math.random() * 100 + 'vw';
    			img.style.left = randomLeft;

   				// Set a random animation delay
   				const randomDelay = Math.random() * 5 - 5 + 's'; // Random delay between -5s and 0s
   				img.style.animationDelay = randomDelay;

				// Set a random animation duration (speed of falling)
				const randomDuration = Math.random() * 3 + 3 + 's'; // Random duration between 3s and 6s
    			img.style.animationDuration = randomDuration;

				// Set a random size
				const randomSize = Math.random() * 100 + 50 + 'px'; // Random size between 50px and 100px
    			img.style.width = randomSize;

        	    // Append the image to the container
        	    container.appendChild(img);
			}
        }

		// Create initial falling objects
		createFallingObjects();

		document.getElementById('dark-mode-toggle').addEventListener('click', function(event) {
			document.body.classList.toggle("dark-theme");
			console.log('Is dark theme:', document.body.classList.contains("dark-theme"));
			const icon = document.getElementById("dark-mode-toggle");
			icon.innerText = document.body.classList.contains("dark-theme") ? "üåù" : "üåö";
			createFallingObjects();
		});

    </script>
</body>

</html>
